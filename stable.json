{"meta":{"generator":"0.9.0","format":20,"date":1636392154169},"custom":{"general":{"name":"General","files":{"welcome":{"name":"Welcome","type":"md","content":"# discord-tickets\r\nUsefull npm for managing tickets\r\n\r\n### Full documentation coming soon\r\n\r\n## Examples\r\n\r\nInit library:\r\n\r\n```js\r\nconst {TicketManager} = require('discord-tickets');\r\n\r\n\r\nclient.ticketManager = new TicketManager(client, {\r\n     enabled: true,//If Module is enabled\r\n     parentId: '696891020146638868',//Ticket's category\r\n     staffRole: '613426529623605268',//Role who have access to tickets\r\n     pingStaff: true,//@Staff when ticket created\r\n     closeParentId: '613425648685547544',//Closed's tickets category\r\n     channelTopic: true,\r\n     storage: './tickets.json',//Storage (\"custom\" if you're using database)\r\n     ticketCache: true//Save tickets on cache (TicketManager#tickets.get(\"channelId\"))\r\n});\r\n```\r\n\r\nCreate Ticket:\r\n```js\r\nawait client.ticketManager.createTicket(message.guild, message.member);\r\n```\r\n\r\nGet Ticket:\r\n```js\r\nconst ticket = client.ticketManager.tickets.get('channelId');\r\n```\r\n\r\nClose Ticket:\r\n```js\r\nawait client.ticketManager.closeTicket(ticket);\r\n//or\r\nawait ticket.close();\r\n```\r\n\r\nReOpen ticket:\r\n```js\r\nawait client.ticketManager.reOpenTicket(ticket);\r\n//or\r\nticket.reopen();\r\n```\r\n\r\nDelete Ticket: \r\n```js\r\nawait client.ticketManager.deleteTicket(ticket);\r\n//or\r\nticket.delete();\r\n```\r\n\r\nUsing with Database:\r\n\r\n```js\r\nconst {TicketManager} = require('discord-tickets');\r\nconst db = require('quick.db');\r\n\r\nclass TicketManagerWithDB extends TicketManager {\r\n    async getOptions(id){\r\n        return  db.get(`options_${id}`)\r\n    }\r\n    async getAllTickets(){\r\n        return  db.get('tickets')\r\n    }\r\n    async saveTicketRaws(){\r\n        db.set('tickets', JSON.stringify(this.ticketRaws))\r\n        return true\r\n    }\r\n}\r\n\r\n\r\nclient.ticketManager = new TicketManagerWithDB(client);\r\n```\r\n\r\n\r\n\r\n","path":"README.md"}}}},"classes":[{"name":"Ticket","description":"<p>Represents a Ticket</p>","construct":{"name":"Ticket","params":[{"name":"manager","description":"<p>The Ticket Manager</p>","type":[[["TicketManager"]]]},{"name":"data","description":"<p>The ticket data</p>","type":[[["TicketData"]]]}]},"props":[{"name":"manager","description":"<p>The Ticket manager</p>","type":[[["TicketManager"]]],"meta":{"line":28,"file":"Ticket.ts","path":"src"}},{"name":"data","description":"<p>The ticket data</p>","type":[[["TicketData"]]],"meta":{"line":33,"file":"Ticket.ts","path":"src"}},{"name":"guildId","description":"<p>The discord guild id</p>","type":[[["string"]]],"meta":{"line":38,"file":"Ticket.ts","path":"src"}},{"name":"channelId","description":"<p>The discord channel id</p>","type":[[["string"]]],"meta":{"line":43,"file":"Ticket.ts","path":"src"}},{"name":"memberId","description":"<p>The discord member id</p>","type":[[["string"]]],"meta":{"line":48,"file":"Ticket.ts","path":"src"}},{"name":"number","description":"<p>The ticket number</p>","type":[[["string"]]],"meta":{"line":53,"file":"Ticket.ts","path":"src"}},{"name":"status","description":"<p>The ticket status</p>","type":[[["TicketStatus"]]],"meta":{"line":58,"file":"Ticket.ts","path":"src"}},{"name":"participants","description":"<p>The list of participants of the ticket</p>","type":[[["Array","<"],["string",">"]]],"meta":{"line":63,"file":"Ticket.ts","path":"src"}},{"name":"guild","description":"<p>Ticket's Guild</p>","readonly":true,"type":[[["Guild"]]],"meta":{"line":70,"file":"Ticket.ts","path":"src"}},{"name":"channel","description":"<p>Ticket's Channel</p>","readonly":true,"type":[[["Guild"]]],"meta":{"line":79,"file":"Ticket.ts","path":"src"}},{"name":"member","description":"<p>Ticket's Member</p>","readonly":true,"type":[[["Guild"]]],"meta":{"line":88,"file":"Ticket.ts","path":"src"}}],"methods":[{"name":"close","description":"<p>Close Ticket</p>","returns":[[["Promise","<"],["void",">"]]],"meta":{"line":97,"file":"Ticket.ts","path":"src"}},{"name":"delete","description":"<p>Delete Ticket</p>","returns":[[["Promise","<"],["void",">"]]],"meta":{"line":105,"file":"Ticket.ts","path":"src"}},{"name":"reopen","description":"<p>ReOpen Ticket</p>","returns":[[["Promise","<"],["void",">"]]],"meta":{"line":113,"file":"Ticket.ts","path":"src"}},{"name":"addMember","description":"<p>Add GuildMember to Ticket</p>","params":[{"name":"member","description":"<p>Discord Guild Member</p>","type":[[["GuildMember"]]]}],"returns":[[["Promise","<"],["any",">"]]],"meta":{"line":121,"file":"Ticket.ts","path":"src"}},{"name":"removeMember","description":"<p>Remove GuildMember from Ticket</p>","params":[{"name":"member","description":"<p>Discord Guild Member</p>","type":[[["GuildMember"]]]}],"returns":[[["Promise","<"],["any",">"]]],"meta":{"line":142,"file":"Ticket.ts","path":"src"}}],"meta":{"line":11,"file":"Ticket.ts","path":"src"}},{"name":"TicketManager","description":"<p>Ticket Manager</p>","construct":{"name":"TicketManager","params":[{"name":"client","description":"<p>Discord Client</p>","type":[[["Client"]]]},{"name":"options","description":"<p>TicketManager options</p>","optional":true,"type":[[["TicketManagerOptions"]]]}]},"props":[{"name":"options","description":"<p>The manager options</p>","type":[[["TicketManagerOptions"]]],"meta":{"line":46,"file":"TicketManager.ts","path":"src"}},{"name":"ticketRaws","description":"<p>Array with all tickets</p>","type":[[["Array","<"],["TicketData",">"]]],"meta":{"line":51,"file":"TicketManager.ts","path":"src"}},{"name":"tickets","description":"<p>Collection with all tickets (tickets's cache)</p>","type":[[["Collection","<"],["string",", "],["TicketData",">"]]],"meta":{"line":56,"file":"TicketManager.ts","path":"src"}}],"methods":[{"name":"cachingTickets","description":"<p>Caching raws tickets into Array</p>","access":"private","returns":[[["Promise","<"],["void",">"]]],"meta":{"line":65,"file":"TicketManager.ts","path":"src"}},{"name":"getAllTickets","description":"<p>Get All ticket raw from Database/JSON storage</p>","returns":[[["Promise","<"],["Array","<"],["TicketData",">>"]]],"meta":{"line":94,"file":"TicketManager.ts","path":"src"}},{"name":"saveTicketRaws","description":"<p>Save all tickets on Database/JSON storage</p>","returns":[[["Promise","<"],["boolean",">"]]],"meta":{"line":128,"file":"TicketManager.ts","path":"src"}},{"name":"checkDoubleTickets","description":"<p>Check if member already has ticket</p>","params":[{"name":"guildID","description":"<p>Discord Guild Id</p>","type":[[["string"]]]},{"name":"memberID","description":"<p>Discord Guild Member Id</p>","type":[[["string"]]]}],"meta":{"line":141,"file":"TicketManager.ts","path":"src"}},{"name":"getGuild","description":"<p>Get Guild Class from client cache (is you're using shards)</p>","params":[{"name":"id","description":"<p>Discord Guild Id</p>","type":[[["string"]]]}],"returns":[[["Promise","<"],["Guild",">"]]],"meta":{"line":150,"file":"TicketManager.ts","path":"src"}},{"name":"createTicket","description":"<p>Create Ticket</p>","params":[{"name":"guild","description":"<p>Discord Guild</p>","type":[[["Guild"]]]},{"name":"member","description":"<p>Discord Guild Member</p>","type":[[["GuildMember"]]]}],"returns":[[["Promise","<"],["Ticket",">"]]],"meta":{"line":159,"file":"TicketManager.ts","path":"src"}},{"name":"deleteTicket","description":"<p>Delete Ticket</p>","params":[{"name":"ticket","description":"<p>Ticket class</p>","type":[[["Ticket"]]]}],"returns":[[["Promise","<"],["any",">"]]],"meta":{"line":223,"file":"TicketManager.ts","path":"src"}},{"name":"closeTicket","description":"<p>Close Ticket</p>","params":[{"name":"ticket","description":"<p>Ticket class</p>","type":[[["Ticket"]]]}],"returns":[[["Promise","<"],["any",">"]]],"meta":{"line":243,"file":"TicketManager.ts","path":"src"}},{"name":"reOpenTicket","description":"<p>ReOpen ticket</p>","params":[{"name":"ticket","description":"<p>Ticket Resolvable</p>","type":[[["Ticket"]]]}],"returns":[[["Promise","<"],["any",">"]]],"meta":{"line":283,"file":"TicketManager.ts","path":"src"}}],"events":[{"name":"ticketCreate","description":"<p>Emitted when user create ticket</p>","params":[{"name":"ticket","description":"<p>Ticket resolvable</p>","type":[[["Ticket"]]]}],"meta":{"line":214,"file":"TicketManager.ts","path":"src"}},{"name":"ticketDeleted","description":"<p>Emitted when ticket be delete</p>","params":[{"name":"ticket","description":"<p>Ticket resolvable</p>","type":[[["Ticket"]]]}],"meta":{"line":235,"file":"TicketManager.ts","path":"src"}},{"name":"ticketClosed","description":"<p>Emitted when ticket be closed</p>","params":[{"name":"ticket","description":"<p>Ticket resolvable</p>","type":[[["Ticket"]]]},{"name":"moderator","description":"<p>Discord User ID</p>","type":[[["string"]]]}],"meta":{"line":274,"file":"TicketManager.ts","path":"src"}},{"name":"ticketReOpen","description":"<p>Emitted when ticket be reopen</p>","params":[{"name":"ticket","description":"<p>Ticket resolvable</p>","type":[[["Ticket"]]]}],"meta":{"line":312,"file":"TicketManager.ts","path":"src"}}],"meta":{"line":26,"file":"TicketManager.ts","path":"src"}}],"interfaces":[],"typedefs":[{"name":"TicketManagerOptions","description":"<p>Ticket Manager Config Types</p>","type":[[["object"]]],"props":[{"name":"enabled","description":"<p>Library status</p>","type":[[["boolean"]]]},{"name":"parentID","description":"<p>Category Id where are created tickets</p>","type":[[["string"]]]},{"name":"staffRole","description":"<p>Staff Role ID</p>","type":[[["string"]]]},{"name":"pingStaff","description":"<p>Bot ping staff role when ticket created</p>","optional":true,"type":[[["boolean"]]]},{"name":"closedParentID","description":"<p>Category Id where are closed tickets</p>","type":[[["string"]]]},{"name":"channelTopic","description":"<p>Ticket's channel topic</p>","optional":true,"type":[[["string"]]]},{"name":"ticketCache","description":"<p>Storing tickets in the cache</p>","type":[[["boolean"]]]},{"name":"storage","description":"<p>Storage File path</p>","type":[[["StorageType"]]]}],"meta":{"line":326,"file":"TicketManager.ts","path":"src"}},{"name":"TicketData","description":"<p>Ticket Data</p>","type":[[["object"]]],"props":[{"name":"guild","description":"<p>Discord Guild ID</p>","type":[[["string"]]]},{"name":"member","description":"<p>Discord Guild Member ID</p>","type":[[["string"]]]},{"name":"channel","description":"<p>Discord Channel ID</p>","type":[[["string"]]]},{"name":"number","description":"<p>Ticket's number</p>","type":[[["string"]]]},{"name":"status","description":"<p>Ticket's status</p>","type":[[["TicketStatus"]]]},{"name":"participants","description":"<p>Ticket's Participants list</p>","type":[[["Array","<"],["string",">"]]]}],"meta":{"line":344,"file":"TicketManager.ts","path":"src"}}],"externals":[]}
